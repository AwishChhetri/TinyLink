<div class="bg-gradient-to-br from-slate-900 to-slate-800 border border-slate-700 rounded-2xl overflow-hidden shadow-2xl">

  <!-- Header -->
  <div class="px-6 py-4 border-b border-slate-700 flex flex-col sm:flex-row gap-3 sm:items-center sm:justify-between bg-slate-800/40">
    <h2 class="text-xl font-semibold text-white">Your Links</h2>
    <input id="searchInput"
      placeholder="Search..."
      class="px-3 py-2 bg-slate-700/50 border border-slate-600 rounded-lg text-sm w-full sm:w-64
             focus:outline-none focus:ring-2 focus:ring-cyan-500 transition"
    />
  </div>

  <!-- Table -->
  <div class="overflow-x-auto">
    <table class="w-full text-xs sm:text-sm min-w-[640px]">

      <thead class="bg-slate-800/60 border-b border-slate-700">
        <tr>
          <th class="px-4 py-3 text-left text-slate-300 uppercase tracking-wider sortable cursor-pointer" data-sort="code">
            Code
          </th>
          <th class="px-4 py-3 text-left text-slate-300 uppercase tracking-wider sortable cursor-pointer" data-sort="url">
            URL
          </th>
          <th class="px-4 py-3 text-left text-slate-300 uppercase tracking-wider sortable cursor-pointer" data-sort="clicks">
            Clicks
          </th>
          <th class="px-4 py-3 text-left text-slate-300 uppercase tracking-wider sortable cursor-pointer" data-sort="last_clicked">
            Last Clicked
          </th>
          <th class="px-4 py-3 text-left text-slate-300 uppercase tracking-wider">
            Actions
          </th>
        </tr>
      </thead>

      <tbody id="linksTableBody" class="divide-y divide-slate-700">

        <% links.forEach(link => { %>
        <tr class="hover:bg-slate-700/30 transition" 
            id="row-<%= link.code %>"
            data-code="<%= link.code %>"
            data-url="<%= link.url %>"
            data-clicks="<%= link.clicks %>"
            data-last_clicked="<%= link.last_clicked || '' %>">

          <!-- Code -->
          <td class="px-4 py-3">
            <a href="/<%= link.code %>" class="text-cyan-400 hover:text-cyan-300 font-medium">
              <%= link.code %>
            </a>
          </td>

          <td class="px-4 py-3">
            <span class="block max-w-[150px] truncate text-slate-300" title="<%= link.url %>">
              <%= link.url %>
            </span>
          </td>

          <td class="px-4 py-3">
            <span class="px-2.5 py-1 rounded-full bg-blue-500/20 text-blue-300 border border-blue-500/30">
              <%= link.clicks %>
            </span>
          </td>

          <td class="px-4 py-3 text-slate-400">
            <%= link.last_clicked || "â€”" %>
          </td>

          <td class="px-4 py-3">
            <div class="flex items-center gap-2 whitespace-nowrap">

              <a href="/api/links/<%= link.code %>"
                class="px-3 py-1.5 rounded-lg bg-indigo-500/10 text-indigo-300 border border-indigo-500/30 text-xs
                       hover:bg-indigo-500/20 hover:border-indigo-500/50 transition">
                View
              </a>

              <button onclick="copyLink('<%= link.code %>', this)"
                class="p-2 rounded-lg bg-emerald-500/10 text-emerald-300 border border-emerald-500/30 hover:bg-emerald-500/20 hover:border-emerald-500/50 transition"
                title="Copy link">
                <svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                        d="M8 16h8a2 2 0 002-2V8a2 2 0 00-2-2H8a2 2 0 00-2 2v6a2 2 0 002 2zm0 0v2a2 2 0 002 2h4a2 2 0 002-2v-2" />
                </svg>
              </button>

              <button onclick="openDeleteModal('<%= link.code %>')"
                class="p-2 rounded-lg bg-red-500/10 text-red-300 border border-red-500/30 hover:bg-red-500/20 hover:border-red-500/50 transition"
                title="Delete link">
                <svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                        d="M6 7h12M9 7v10m6-10v10M4 7h16l-1 13H5L4 7zM10 4h4v2h-4V4z" />
                </svg>
              </button>

            </div>
          </td>

        </tr>
        <% }) %>

      </tbody>
    </table>
  </div>

</div>
